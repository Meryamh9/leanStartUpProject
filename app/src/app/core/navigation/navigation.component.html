<mat-sidenav-container class="sidenav-container">
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <span>UP'IT</span>
      <div class="buttonsLeft">
        <button mat-button color="black" routerLink="">
          Accueil<mat-icon>home</mat-icon>
        </button>
        <button mat-button color="black" [routerLink]="['/produit']">
          Nos produits<mat-icon>store</mat-icon>
        </button>
        <button mat-button color="black" [routerLink]="['/a-propos']">
          A propos<mat-icon>stars</mat-icon>
        </button>
        <button mat-raised-button color="accent" [routerLink]="['/mettre-en-vente']">
          Mettre en vente<mat-icon>add</mat-icon>
        </button>
      </div>
      <div class="buttonsRight">
        <!-- Si l'utilisateur est connecté, afficher la photo de profil avec menu -->
        <ng-container *ngIf="user; else guest">
          <button mat-button [matMenuTriggerFor]="menu">
            <img
              [src]="user?.user_metadata?.avatar_url || '.././assets/images/user_profile_default.png'"
              alt="Profil"
              class="profile-picture">
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item [routerLink]="['/profile']">Profil</button>
            <button mat-menu-item>Annonces</button>
            <button mat-menu-item (click)="logout()">Déconnexion</button>
          </mat-menu>
        </ng-container>
        <!-- Sinon, afficher les boutons Inscription et Connexion -->
        <ng-template #guest>
          <button mat-button color="black" [routerLink]="['/inscription']">
            Inscription<mat-icon>person_add</mat-icon>
          </button>
          <button mat-button color="black" [routerLink]="['/connexion']">
            Connexion<mat-icon>account_circle</mat-icon>
          </button>
        </ng-template>
      </div>
    </mat-toolbar>
    <!-- Contenu dynamique de la page -->
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
